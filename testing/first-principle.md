# 貫徹 TDD 和 FIRST 原則的心得

昨天實作完這個 sprint 的最後一個 task ，我徹徹底底感受到當貫徹 TDD 和 FIRST 原則的價值。由於時間剩下一天，我必須很快地把不熟的部份在早上習得相關知識，下午才能開始實作。跟同事討論過後，我很快地從 task 分析出要實作的 module 及它們的 API ，然後針對這些 API 的使用情境建立出對應的 test cases 。不過中間因為某些因素而離開坐位有一段時間，但由於先前已經建立好 test case ，所以我一回來很快地就能明白我該做些什麼。而我準備要實作時，就先把還不打算測試的 test case 搬到別的地方，專心應付其中一個。其實這邊的順序可能跟大家想像的 TDD 不太一樣，不過對我來說是種彈性做法。

而開始針對 test case 實作 production code 的時候，我開始發現一些原本沒有注意到的細節，所以我很快地把 test cases 的部份重新調整，讓它們彼此之間更加獨立 (Independency) 。由於我對這個 task 的功能如何用 node.js 實作不那麼熟悉，所以我是用嘗試錯誤的方式來進行；雖然在這個過程中我反行執行了數十次的測試來驗證我有沒有修正掉錯誤 (Timely)  ，卻都沒有花我太多時間 (Fast) 。而且每當我覺得自己滿足一個 test case 後，就可以立刻很快地執行測試來驗證 API 是否如預期般運作  (Self-Validating) 。在最後把 code 推上 CI 做測試時，發現我漏掉某個 package ，這是因為在開發時我手動安裝的，忘了加到 package.json 裡。在修正之後，就看到 CI 非常順利地執行 (Repeatable) 。

雖然最後搞得很晚，但很感謝同事一早來就幫我把程式整合好並 deploy 上驗收機，讓該 user story 的 demo 非常順利。如果沒有採用 TDD 及遵守 FIRST 原則，以往我大概得花三四天才有辦法完成這個 task ；當它們內化到自己的開發習慣裡之後，真的讓自己有那種一切水到渠成的快感。

當然這是我個人的體會，我不敢說它們一定適合你；主要是因為我找到了對的方法來應用它們，習慣它們，它們才有辦法幫助我很快地完成一件事。我會建議你試試看，但一定要確認自己明白關鍵點在哪裡。只要你做對了，開發也會變得很有趣！

