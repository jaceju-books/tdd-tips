# 單元測試

如果測試出錯時，你無法一眼看出是哪個地方出錯，那就表示你的測試程式不是只測一件事 (單元) 。

但並不是一個 assertion 就對應到一件事，要看這些 assertion 之間有沒有關連性。例如狀態的驗證就需要狀態改變前的 assertion ，以及狀態改變後的 assertion 來搭配。

而通過一連串彼此關連性不大的 assertion ，只能確保你是在某幾個交叉口有走對方向而已，而這通常已經算是功能測試了。



---

上次被問到何時該做 Vue file 的 unit test ？這個問題我有了新的想法與答案：當這個 Vue file 有機會被跨專案重用的時候。

在進行前端專案 TDD 時，一開始我們是從 e2e testing 來定義規格情境，從而實作，再而重構；這時候重構後所建立的 Vue file 元件並沒有 unit testing 。

前端專案的特性就是畫面常常改，所以通常對 Vue file 做 unit testing 就不太有其效益。但如果某個 Vue file 被獨立出來的目的是要被重複使用，那麼這時候它就有做 unit testing 的必要性了。

需要被重用的 Vue 元件通常目的是定義好要讓多個頁面甚至是多個專案使用，而這些被獨立出來的 Vue file 可能是一整組，需要搬到新的 repo 中去管理；這時候就可以考慮透過 TDD 來寫出它們的 unit test cases ，讓接下來使用的專案有使用方法可以參考。

當然這對不熟悉前端 unit testing 的開發者來說可能又是一種負擔，同時對開發時程也會有所衝擊。如何拿捏該不該寫、何時該寫 unit testing ，取決開發團隊當下對專案需求的判斷。

